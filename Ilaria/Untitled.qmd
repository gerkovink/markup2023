---
title: "Presentation week 2"
format: 
  revealjs:
    auto-stretch: false
    theme: simple
    transition: convex
    slide-number: true
    logo: "logo.png"
    scrollable: true
    reference-location: margin
author:
  - name: "Ilaria Francesca Lunardelli"
    orcid: 0009-0009-8690-7028
    email: i.f.lunardelli@uu.nl
    affiliation: 
      - name: Utrecht University
        city: Utrecht, The Netherlands
        url: www.uu.nl
bibliography: references.bib
editor: 
  markdown: 
    wrap: sentence
---

## A Centered Still Figure

<center>![Baby Ilaria](me3.jpeg){width="300" fig-align="center"}</center>

## An Interactive Table

```{r, echo=FALSE}
library(DT)
library(palmerpenguins)

data(penguins)

datatable(penguins, 
          options = list(
            autoWidth = TRUE,
            pageLength = 10,
            initComplete = JS(
              "function(settings, json) {",
              "$(this.api().table().header()).css({'background-color': 'darkseagreen', 'color': 'black'});",
              "$(this.api().table().container()).css({'font-size': '0.5em'});", # Adjust font size
              "}")
)
)
```


## An Interactive figure

<br>
```{r,echo=FALSE}
library(eurostat)
library(plotly)
library(dplyr)
#a) get data
data <- get_eurostat("migr_imm8")

#b) 
#filter data
vars <- c("age", "sex", "agedef")
cond <- c("TOTAL", "T", "COMPLET")

data <- data %>%
  filter(.data[[vars[[1]]]] == cond[[1]],
         .data[[vars[[2]]]] == cond[[2]],
                .data[[vars[[3]]]] == cond[[3]])
data <- data[data$geo != "EU27_2020",]
#plot time series
plot_5b <- ggplot(data, aes(x = TIME_PERIOD, y = values, col = geo)) +
  geom_line() +
  labs(col = "Country", y = "Number of immigrants", x = "Year",
       title = "Immigration time series") 

ggplotly(plot_5b) 
```

## A 2-column Slide

-   My two dogs

    ::: columns
    ::: {.column width="50%"}
    <center>![Bambi](bambi.jpeg){width="60%" fig-align="center"}</center>
    :::

    ::: {.column width="50%"}
    <center>![Bimba](bimba.jpeg){width="60%" fig-align="center"}</center>
    :::
    :::


## A Multi-row Equation

<br>

$$
\begin{align}
x & = \int_{\tau_0}^{\tau_n}\tau^{-\alpha}\; d\tau \\
  & = \frac{\tau_0^{1-\alpha}-\tau_n^{1-\alpha}}{a-1}
\end{align}
$$

## Citations

No survey is free from non-response.
Studies report that non-response rates have been increasing over the past decades and have been spreading over different survey designs and, even though at different paces, all around the world @deleeuw2002. Non-response can be divided into two categories: unit non-response and item non-response.
In the first case, no information at all is provided by the sampled person, whereas in item non-response only partial information in provided, leaving the questionnaire incomplete @bethlehem2011. Due to low response rates, researchers are often compelled to execute analysis on small data samples.
Such samples can lead to negative consequences like: (1) decrease in statistical power, (2) increase in uncertainty around the sample statistics and (3) limited statistical methods that can be applied to the collected data @rogelberg2007. 

### Reference List

::: {#refs}
:::

## R-code, Displayed but not Executed

<br>

```{r, eval=FALSE, warning=FALSE}
#| echo: true
library(ggplot2)
library(lattice)

plot <- ggplot(barley, aes(x = yield, y = variety, col = year)) +
  geom_point(aes(shape = year))+
  labs(title = "Barley yield per site in 1932/1931") +
  theme(plot.title = element_text(size=14.5)) +
  facet_wrap(~site, ncol = 3)


plot
```

## R-code, Executed but not Displayed

### Also Cached and Labeled

```{r plots_figure, echo=FALSE, warning=FALSE, cache=TRUE}
library(ggplot2)
library(lattice)

plot <- ggplot(barley, aes(x = yield, y = variety, col = year)) +
  geom_point(aes(shape = year))+
  labs(title = "Barley yield per site in 1932/1931") +
  theme(plot.title = element_text(size=14.5)) +
  facet_wrap(~site, ncol = 3)


plot
```

## An `renv` Reproducible Environment

```{r, echo=TRUE, eval=TRUE, message=FALSE}
library(renv)

renv::init()
```

```{r, echo=TRUE}
renv::snapshot()

sessionInfo()
```
